<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChargeWalk Agritech | Predict Yield</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/yield.css') }}">
</head>
<body>

    <div class="app-container">
        <aside class="sidebar">
            <div class="brand"><h2>KisanCore</h2></div>
            <div class="user-profile">
                <div class="avatar">üë§</div>
                <h3 id="sidebar-user-name">Farmer</h3>
                <p>Farm Manager</p>
            </div>
            <nav class="sidebar-nav">
                <a href="/dashboard" class="nav-item">üìä Dashboard</a>
                <a href="/yield" class="nav-item active">üå± Predict Yield</a>
                <a href="/price" class="nav-item">üìà Price Forecasting</a>
                <a href="/recommend" class="nav-item">üí° Crop Recommendation</a>
                <a href="/bot" class="nav-item">üí¨ Ask Agri-Expert</a>
            </nav>
        </aside>

        <main class="main-content">
            <header class="top-header">
                <div>
                    <h1>Yield Prediction Engine</h1>
                    <p class="subtitle">Enter crop details to forecast production</p>
                </div>
            </header>

            <div class="form-card">
                <form id="yield-form">
                    <div class="form-grid">
                        <div class="input-group">
                            <label>State</label>
                            <select id="state-select" required>
                                <option value="">-- Select State --</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>District</label>
                            <select id="district-select" required disabled>
                                <option value="">-- Select District --</option>
                            </select>
                        </div>

                        <div class="input-group">
                            <label>Crop</label>
                            <select id="crop-select" required>
                                <option value="">-- Select Crop --</option>
                                <option value="Rice">Rice</option>
                                <option value="Wheat">Wheat</option>
                                <option value="Maize">Maize</option>
                                <option value="Cotton">Cotton</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Season</label>
                            <select id="season-select" required>
                                <option value="">-- Select Season --</option>
                                <option value="Kharif">Kharif</option>
                                <option value="Rabi">Rabi</option>
                                <option value="Zaid">Whole Year / Zaid</option>
                            </select>
                        </div>

                        <div class="input-group">
                            <label>Area (in Hectares)</label>
                            <input type="number" id="area-input" placeholder="e.g., 5.5" required step="0.01">
                        </div>
                        <div class="input-group">
                            <label>Soil Type</label>
                            <select id="soil-select" required>
                                <option value="">-- Select Soil --</option>
                                <option value="Alluvial">Alluvial</option>
                                <option value="Black">Black Soil</option>
                                <option value="Red">Red Soil</option>
                                <option value="Laterite">Laterite</option>
                            </select>
                        </div>

                        <div class="input-group">
                            <label>Rainfall (mm) <span class="optional">- Optional</span></label>
                            <input type="number" id="rain-input" placeholder="e.g., 120" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Temperature (¬∞C) <span class="optional">- Optional</span></label>
                            <div class="weather-flex">
                                <input type="number" id="temp-input" placeholder="e.g., 28" step="0.1">
                                <button type="button" id="fetch-weather-btn" class="secondary-btn">‚òÅÔ∏è Auto-Fetch</button>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="primary-btn" id="predict-btn">Run AI Prediction ‚Üí</button>
                    </div>
                </form>

                <div id="prediction-result" class="results-container" style="display: none; margin-top: 30px;">
                    <div style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
                        
                        <div style="background: #f9fbe7; border: 1px solid #c5e1a5; border-radius: 12px; padding: 25px; text-align: center; flex: 1; min-width: 200px; box-shadow: 0 4px 6px rgba(0,0,0,0.05);">
                            <h4 style="margin: 0; color: #555; font-size: 16px;">üå± Yield Rate</h4>
                            <div style="font-size: 32px; font-weight: bold; color: #33691e; margin: 15px 0;">
                                <span id="yield-per-ha">0.00</span> <span style="font-size: 16px; font-weight: normal;">Tonnes/Ha</span>
                            </div>
                            <p style="margin: 0; font-size: 13px; color: #777;">Production efficiency</p>
                        </div>
                
                        <div style="background: #e8f5e9; border: 2px dashed #2e7d32; border-radius: 12px; padding: 25px; text-align: center; flex: 1; min-width: 250px; box-shadow: 0 4px 10px rgba(46, 125, 50, 0.15);">
                            <h4 style="margin: 0; color: #2e7d32; font-size: 18px;">üöú Total Estimated Production</h4>
                            <div style="font-size: 40px; font-weight: bold; color: #1b5e20; margin: 15px 0;">
                                <span id="total-production">0.00</span> <span style="font-size: 20px; font-weight: normal;">Tonnes</span>
                            </div>
                            <p style="margin: 0; font-size: 14px; color: #555;">Based on <span id="display-area" style="font-weight: bold;">0</span> Hectares of land</p>
                        </div>
                
                    </div>
                </div>
                </div>
        </main>
    </div>

    <script src="{{ url_for('static', filename='js/yield.js') }}"></script>
</body>
</html>